<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Outlook Details</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<style>
body { background: #0d1117; color: #e6edf3; font-family: Arial, sans-serif; margin: 0; }
.container { max-width: 900px; margin: auto; padding: 30px; }
img { max-width: 100%; border-radius: 6px; margin: 20px 0; }
a { color: #58a6ff; }
</style>
</head>

<body>
<div class="container" id="content">Loading...</div>

<script>
async function loadOutlook() {
  const id = new URLSearchParams(window.location.search).get("id");
  const res = await fetch(`https://api.github.com/repos/euwpc/ewpc.github.io-user-outlooks/issues/${id}`);
  const issue = await res.json();

  const imgMatch = issue.body.match(/https:\/\/.*\.(png|jpg|jpeg|gif)/i);
  const imgTag = imgMatch ? `<img src="${imgMatch[0]}">` : "";

  document.getElementById("content").innerHTML = `
    <h1>${issue.title}</h1>
    ${imgTag}
    <pre>${issue.body.replace(/###/g,"")}</pre>
    <a href="archive.html">‚Üê Back to Archive</a>
  `;
}
loadOutlook();
</script>

</body>
</html>
