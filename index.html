<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Submit Outlook â€” User Outlooks</title>
<style>
  body{background:#0d1117;color:#e6edf3;font-family:Arial,Helvetica,sans-serif;margin:0}
  nav{background:#161b22;padding:12px 18px;display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #30363d}
  nav a{color:#e6edf3;text-decoration:none;margin-left:12px}
  .wrap{max-width:900px;margin:24px auto;padding:0 16px}
  .card{background:#161b22;padding:20px;border-radius:8px;border:1px solid #30363d}
  label{display:block;margin:10px 0 6px}
  input[type=text], select, textarea{width:100%;padding:10px;border-radius:6px;border:1px solid #30363d;background:#0d1117;color:#e6edf3}
  input[type=file]{margin-top:8px}
  button{background:#238636;color:#fff;padding:10px 14px;border-radius:6px;border:none;cursor:pointer;margin-top:12px}
  .note{color:#9aa3ad;margin-top:8px;font-size:0.95rem}
</style>
</head>
<body>
<nav>
  <div class="logo">User Outlooks</div>
  <div>
    <a href="index.html">Submit</a>
    <a href="archive.html">Approved Outlooks</a>
    <a href="pending.html">Pending</a>
    <a href="about.html">About</a>
  </div>
</nav>

<div class="wrap">
  <h1>Submit Your Outlook</h1>
  <p style="color:#9aa3ad">All submissions are reviewed by the admin before appearing in the archive. Please include your username and upload the outlook image to an image host (or attach to the GitHub issue as described below).</p>

  <div class="card">
    <h2>Submit Outlook</h2>
    <form id="submitForm">
      <label>Your username (visible on the archive):</label>
      <input id="username" type="text" placeholder="e.g. stormfan123" required>

      <label>Region:</label>
      <select id="region" required>
        <option value="">-- Select region --</option>
        <option>Baltic Region</option>
        <option>Northern Europe</option>
        <option>Central Europe</option>
        <option>Western Europe</option>
        <option>Southern Europe</option>
        <option>Eastern Europe</option>
        <option>Scandinavia</option>
        <option>British Isles</option>
      </select>

      <label>Title:</label>
      <input id="title" type="text" placeholder="Short title for your outlook" required>

      <label>Discussion / analysis:</label>
      <textarea id="discussion" rows="6" placeholder="Write your forecast analysis..." required></textarea>

      <label>Image (choose file from your computer):</label>
      <input id="imageFile" type="file" accept="image/*">

      <p class="note">How to attach the image: after you press Submit you'll be taken to GitHub's "New Issue" page. Click the comment area and either drag the image into the comment or paste the image link (Imgur / Imgbb or GitHub drag-drop). Finally, press "Submit new issue".</p>

      <button type="button" onclick="submitIssue()">Submit to review</button>
    </form>
  </div>
</div>

<script>
/* Build a GitHub issue URL pre-filled with title + body.
   Users must attach images on the issue page (drag-drop) or paste a link. */
function submitIssue(){
  const username = document.getElementById('username').value.trim();
  const region = document.getElementById('region').value;
  const title = document.getElementById('title').value.trim();
  const discussion = document.getElementById('discussion').value.trim();

  if (!username || !region || !title || !discussion){
    alert('Please complete all required fields.');
    return;
  }
  const body = `**User:** ${username}\n**Region:** ${region}\n**Discussion:**\n\n${discussion}\n\n---\n**Image:** (please attach the image in this issue by dragging it into the comment box or by pasting an uploaded image link)\n\n**Admin:** When approving, add the outlook to \`data/outlooks.json\` and add the image file to \`images/\`.`;
  const url = `https://github.com/euwpc/ewpc.github.io-user-outlooks/issues/new?title=${encodeURIComponent(title)}&body=${encodeURIComponent(body)}`;
  window.open(url, '_blank');
}
</script>
</body>
</html>
